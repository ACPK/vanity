<!DOCTYPE html>
<html>
  <head>
    <title>Vanity &mdash; Experimental Features</title>
    <link href="css/page.css" media="screen,print" rel="stylesheet" type="text/css">
    <link href="css/print.css" media="print" rel="stylesheet" type="text/css">
    <link href="images/favicon.png" rel="shortcut icon">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript" src="site.js"></script>
  </head>
  <body>
    <div id="header">
      <div class="title"><a href="http://vanity.labnotes.org" title="Mirror, mirror, on the wall &hellip;">Vanity</a></div>
      <div class="tagline">Experiment<br>Driven Development</div>
    </div>
    <div id="links">
      <a href="http://github.com/assaf/vanity">Source code</a> |
      <a href="http://groups.google.com/group/vanity-talk" title="vanity-talk google group">Google Group</a> |
      <a href="http://vanity.labnotes.org/api/index.html">API reference</a>
    </div>
    <div id="sidebar">
      <ul>
        <li><a href="index.html#intro" title="A/B Testing with Rails in 5 easy steps">2 Minute Demo</a></li>
        <li><a href="metrics.html">Metrics</a></li>
        <li><a href="ab_testing.html" title="Everything you need to know">A/B Testing</a></li>
        <li><a href="rails.html">Using with Rails</a></li>
        <li><a href="email.html">Testing emails</a></li>
        <li><a href="identity.html">Managing Identity</a></li>
        <li><a href="configuring.html">Configuring</a></li>
        <li><a href="contributing.html">Contributing</a></li>
        <li><a href="experimental.html">Experimental</a></li>
        <li>Download: <a href="vanity-api.zip">API</a>/<a href="vanity.pdf">PDF</a></li>
      </ul> 
      <ul id="stats">
        <li><a href="http://travis-ci.org/assaf/vanity"><img src="http://travis-ci.org/assaf/vanity.png"></a></li>
        <li><a href="http://github.com/assaf/vanity/graphs/traffic">Traffic</a></li>
        <li><a href="http://wiki.github.com/assaf/vanity/whos-using-vanity">Who's using it?</a></li>
      </ul>
    </div>
    <div id="content">
      <h1 id="experimental features">Experimental Features</h1>
      <div id="toc">
<ol>
	<li><a href="#multi-series">Multi-series Metrics</a><br />
</div></li>
</ol>
<div class="experimental">Experimental</div>
<p>Everything on this page is work-in-progress towards some future release. Interested in picking up any of these features and developing them further?</p>
<h3 id="multi-series">Multi-series Metrics</h3>
<p>Vanity 1.4 introduces some changes to the <span class="caps">API</span> to allow support for multi-series metrics. The intent is to allow more data to be captured and displayed using less metrics (i.e. charts).</p>
<p>First change to the <code>track!</code> method, which now accepts a single value, array of values, or hash. Since incrementing the metric by one is quite common, this is still the default behavior when calling <code>track!</code> with no arguments.</p>
<p>Next proposed change would allow the metric to define multiple columns. Those can be addressed by name or index, for example:</p>
<pre>
metric :purchase do
  columns :count, :total
end
metric(:purchase).track! p.items.length. p.total
metric(:purchase).track! :total=&gt;p.total, :count=&gt;p.items.length
</pre>
<p>The metric&#8217;s <code>values</code> method will have to be changed to return an array of arrays, or new method introduced to keep the <span class="caps">API</span> backward compatible. And, of course, UI modified to display multiple series in a single graph.</p>
    </div>
    <div id="footer"><a href="credits.html">Credits / License</a></div>
    <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount", "UA-1828623-6"], ["_trackPageview"]);(function(){var ga=document.createElement("script");ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";ga.setAttribute("async", "true");document.documentElement.firstChild.appendChild(ga);})();</script>
  </body>
</html>
